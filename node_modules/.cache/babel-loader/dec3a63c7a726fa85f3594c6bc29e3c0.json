{"ast":null,"code":"import { ethers } from 'ethers';\nimport { setProvider, setNetwork, setAccount } from './reducers/provider';\nimport { setContracts, setSymbols, balancesLoaded } from './reducers/tokens';\nimport { setContract, sharesLoaded, token1Loaded, token2Loaded, token3Loaded, token4Loaded, token5Loaded, token6Loaded, poolDAILoaded, poolWETHLoaded, swapsLoaded, depositRequest, depositSuccess, depositFail, withdrawRequest, withdrawSuccess, withdrawFail, swapRequest, swapSuccess, swapFail } from './reducers/amm';\nimport TOKEN_ABI from '../abis/Token.json';\nimport AMM_ABI from '../abis/AMM.json';\nimport config from '../config.json';\nexport const loadProvider = dispatch => {\n  const provider = new ethers.providers.Web3Provider(window.ethereum);\n  dispatch(setProvider(provider));\n  return provider;\n};\nexport const loadNetwork = async (provider, dispatch) => {\n  const {\n    chainId\n  } = await provider.getNetwork();\n  dispatch(setNetwork(chainId));\n  return chainId;\n};\nexport const loadAccount = async dispatch => {\n  const accounts = await window.ethereum.request({\n    method: 'eth_requestAccounts'\n  });\n  const account = ethers.utils.getAddress(accounts[0]);\n  dispatch(setAccount(account));\n  return account;\n}; // ------------------------------------------------------------------------------\n// LOAD CONTRACTS\n\nexport const loadTokens = async (provider, chainId, dispatch) => {\n  const dapp = new ethers.Contract(config[chainId].dapp.address, TOKEN_ABI, provider);\n  const usd = new ethers.Contract(config[chainId].usd.address, TOKEN_ABI, provider); // Change contract values as neeeded here\n\n  dispatch(setContracts([dapp, usd]));\n  dispatch(setSymbols([await dapp.symbol(), await usd.symbol()]));\n};\nexport const loadAMM = async (provider, chainId, dispatch) => {\n  const amm = new ethers.Contract(config[chainId].amm.address, AMM_ABI, provider);\n  dispatch(setContract(amm));\n  return amm;\n};\nexport const loadDappAppleUSD = async (provider, chainId, dispatch) => {\n  const dappAppleUSD = new ethers.Contract(config[chainId].dappAppleUSD.address, AMM_ABI, provider);\n  dispatch(setContract(dappAppleUSD));\n  return dappAppleUSD;\n};\nexport const loadAppleswap = async (provider, chainId, dispatch) => {\n  const appleswap = new ethers.Contract(config[chainId].appleswap.address, AMM_ABI, provider);\n  dispatch(setContract(appleswap));\n  return appleswap;\n}; // ------------------------------------------------------------------------------\n// LOAD BALANCES & SHARES\n\nexport const loadBalances = async (amm, tokens, account, dispatch) => {\n  const balance1 = await tokens[0].balanceOf(account);\n  const balance2 = await tokens[1].balanceOf(account);\n  dispatch(balancesLoaded([ethers.utils.formatUnits(balance1.toString(), 'ether'), ethers.utils.formatUnits(balance2.toString(), 'ether')]));\n  const shares = 100; // await amm.shares(account)\n\n  dispatch(sharesLoaded(ethers.utils.formatUnits(shares.toString(), 'ether')));\n  const token1 = await amm.token1Balance();\n  dispatch(token1Loaded(ethers.utils.formatUnits(token1.toString(), 'ether')));\n  const token2 = await amm.token2Balance();\n  dispatch(token2Loaded(ethers.utils.formatUnits(token2.toString(), 'ether')));\n  const poolDAI = await amm.poolDAIbalance();\n  dispatch(poolDAILoaded(ethers.utils.formatUnits(poolDAI.toString(), 'ether')));\n  const poolWETH = await amm.poolWETHbalance();\n  dispatch(poolWETHLoaded(ethers.utils.formatUnits(poolWETH.toString(), 'ether')));\n};\nexport const loadDappAppleUSDBalances = async (dappAppleUSD, tokens, account, dispatch) => {\n  const token5 = await dappAppleUSD.token1Balance();\n  dispatch(token2Loaded(ethers.utils.formatUnits(token5.toString(), 'ether')));\n  const token6 = await dappAppleUSD.token2Balance();\n  dispatch(token6Loaded(ethers.utils.formatUnits(token6.toString(), 'ether')));\n};\nexport const loadBalances1 = async (appleswap, tokens, account, dispatch) => {\n  const token3 = await appleswap.token1Balance();\n  dispatch(token3Loaded(ethers.utils.formatUnits(token3.toString(), 'ether')));\n  const token4 = await appleswap.token2Balance();\n  dispatch(token4Loaded(ethers.utils.formatUnits(token4.toString(), 'ether')));\n}; // ------------------------------------------------------------------------------\n// ADD LIQUDITY\n\nexport const addLiquidity = async (provider, amm, tokens, amounts, dispatch) => {\n  try {\n    dispatch(depositRequest());\n    const signer = await provider.getSigner();\n    let transaction;\n    transaction = await tokens[0].connect(signer).approve(amm.address, amounts[0]);\n    await transaction.wait();\n    transaction = await tokens[1].connect(signer).approve(amm.address, amounts[1]);\n    await transaction.wait();\n    transaction = await amm.connect(signer).addLiquidity(amounts[0], amounts[1]);\n    await transaction.wait();\n    dispatch(depositSuccess(transaction.hash));\n  } catch (error) {\n    dispatch(depositFail());\n  }\n}; // ------------------------------------------------------------------------------\n// REMOVE LIQUDITY\n\nexport const removeLiquidity = async (provider, amm, shares, dispatch) => {\n  try {\n    dispatch(withdrawRequest());\n    const signer = await provider.getSigner();\n    let transaction = await amm.connect(signer).removeLiquidity(shares);\n    await transaction.wait();\n    dispatch(withdrawSuccess(transaction.hash));\n  } catch (error) {\n    dispatch(withdrawFail());\n  }\n}; // ------------------------------------------------------------------------------\n// SWAP\n\nexport const swap = async (provider, amm, token, symbol, amount, dispatch) => {\n  try {\n    dispatch(swapRequest());\n    let transaction;\n    const signer = await provider.getSigner();\n    transaction = await token.connect(signer).approve(amm.address, amount);\n    await transaction.wait();\n\n    if (symbol === \"DAPP\") {\n      transaction = await amm.connect(signer).swapToken1(amount);\n    } else {\n      transaction = await amm.connect(signer).swapToken2(amount);\n    }\n\n    await transaction.wait(); // Tell redux that the swap has finished - MISSION COMPLETE\n\n    dispatch(swapSuccess(transaction.hash));\n  } catch (error) {\n    dispatch(swapFail());\n  }\n}; // ------------------------------------------------------------------------------\n// LOAD ALL SWAPS\n\nexport const loadAllSwaps = async (provider, amm, dispatch) => {\n  const block = await provider.getBlockNumber();\n  const swapStream = await amm.queryFilter('Swap', 0, block);\n  const swaps = swapStream.map(event => {\n    return {\n      hash: event.transactionHash,\n      args: event.args\n    };\n  });\n  dispatch(swapsLoaded(swaps));\n}; // ------------------------------------------------------------------------------\n// FETCH AMM BALANCES\n\nexport const fetchBalance1 = async (provider, amm, dispatch) => {};","map":{"version":3,"names":["ethers","setProvider","setNetwork","setAccount","setContracts","setSymbols","balancesLoaded","setContract","sharesLoaded","token1Loaded","token2Loaded","token3Loaded","token4Loaded","token5Loaded","token6Loaded","poolDAILoaded","poolWETHLoaded","swapsLoaded","depositRequest","depositSuccess","depositFail","withdrawRequest","withdrawSuccess","withdrawFail","swapRequest","swapSuccess","swapFail","TOKEN_ABI","AMM_ABI","config","loadProvider","dispatch","provider","providers","Web3Provider","window","ethereum","loadNetwork","chainId","getNetwork","loadAccount","accounts","request","method","account","utils","getAddress","loadTokens","dapp","Contract","address","usd","symbol","loadAMM","amm","loadDappAppleUSD","dappAppleUSD","loadAppleswap","appleswap","loadBalances","tokens","balance1","balanceOf","balance2","formatUnits","toString","shares","token1","token1Balance","token2","token2Balance","poolDAI","poolDAIbalance","poolWETH","poolWETHbalance","loadDappAppleUSDBalances","token5","token6","loadBalances1","token3","token4","addLiquidity","amounts","signer","getSigner","transaction","connect","approve","wait","hash","error","removeLiquidity","swap","token","amount","swapToken1","swapToken2","loadAllSwaps","block","getBlockNumber","swapStream","queryFilter","swaps","map","event","transactionHash","args","fetchBalance1"],"sources":["/home/arcturian/amm/src/store/interactions.js"],"sourcesContent":["import { ethers } from 'ethers'\n\nimport {\n  setProvider,\n  setNetwork,\n  setAccount\n} from './reducers/provider'\n\nimport {\n  setContracts,\n  setSymbols,\n  balancesLoaded\n} from './reducers/tokens'\n\nimport {\n  setContract,\n  sharesLoaded,\n  token1Loaded,\n  token2Loaded,\n  token3Loaded,\n  token4Loaded,\n  token5Loaded,\n  token6Loaded,\n  poolDAILoaded,\n  poolWETHLoaded,\n  swapsLoaded,\n  depositRequest,\n  depositSuccess,\n  depositFail,\n  withdrawRequest,\n  withdrawSuccess,\n  withdrawFail,\n  swapRequest,\n  swapSuccess,\n  swapFail\n} from './reducers/amm'\n\nimport TOKEN_ABI from '../abis/Token.json';\nimport AMM_ABI from '../abis/AMM.json';\nimport config from '../config.json';\n\nexport const loadProvider = (dispatch) => {\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\n  dispatch(setProvider(provider))\n\n  return provider\n}\n\nexport const loadNetwork = async (provider, dispatch) => {\n  const { chainId } = await provider.getNetwork()\n  dispatch(setNetwork(chainId))\n\n  return chainId\n}\n\nexport const loadAccount = async (dispatch) => {\n  const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n  const account = ethers.utils.getAddress(accounts[0])\n  dispatch(setAccount(account))\n\n  return account\n}\n\n// ------------------------------------------------------------------------------\n// LOAD CONTRACTS\nexport const loadTokens = async (provider, chainId, dispatch) => {\n  const dapp = new ethers.Contract(config[chainId].dapp.address, TOKEN_ABI, provider)\n  const usd = new ethers.Contract(config[chainId].usd.address, TOKEN_ABI, provider)\n\n  // Change contract values as neeeded here\n\n  dispatch(setContracts([dapp, usd]))\n  dispatch(setSymbols([await dapp.symbol(), await usd.symbol()]))\n}\n\nexport const loadAMM = async (provider, chainId, dispatch) => {\n  const amm = new ethers.Contract(config[chainId].amm.address, AMM_ABI, provider)\n\n  dispatch(setContract(amm))\n\n  return amm\n}\n\nexport const loadDappAppleUSD = async (provider, chainId, dispatch) => {\n  const dappAppleUSD = new ethers.Contract(config[chainId].dappAppleUSD.address, AMM_ABI, provider)\n\n  dispatch(setContract(dappAppleUSD))\n\n  return dappAppleUSD\n}\n\nexport const loadAppleswap = async (provider, chainId, dispatch) => {\n  const appleswap = new ethers.Contract(config[chainId].appleswap.address, AMM_ABI, provider)\n\n  dispatch(setContract(appleswap))\n\n  return appleswap\n}\n\n// ------------------------------------------------------------------------------\n// LOAD BALANCES & SHARES\nexport const loadBalances = async (amm, tokens, account, dispatch) => {\n  const balance1 = await tokens[0].balanceOf(account)\n  const balance2 = await tokens[1].balanceOf(account)\n\n  dispatch(balancesLoaded([\n    ethers.utils.formatUnits(balance1.toString(), 'ether'),\n    ethers.utils.formatUnits(balance2.toString(), 'ether')\n  ]))\n\n  const shares = 100 // await amm.shares(account)\n  dispatch(sharesLoaded(ethers.utils.formatUnits(shares.toString(), 'ether')))\n\n  const token1 = await amm.token1Balance()\n  dispatch(token1Loaded(ethers.utils.formatUnits(token1.toString(), 'ether')))\n\n  const token2 = await amm.token2Balance()\n  dispatch(token2Loaded(ethers.utils.formatUnits(token2.toString(), 'ether')))\n\n  const poolDAI = await amm.poolDAIbalance()\n  dispatch(poolDAILoaded(ethers.utils.formatUnits(poolDAI.toString(), 'ether')))\n\n  const poolWETH = await amm.poolWETHbalance()\n  dispatch(poolWETHLoaded(ethers.utils.formatUnits(poolWETH.toString(), 'ether')))\n}\n\nexport const loadDappAppleUSDBalances = async (dappAppleUSD, tokens, account, dispatch) => {\n\n  const token5 = await dappAppleUSD.token1Balance()\n  dispatch(token2Loaded(ethers.utils.formatUnits(token5.toString(), 'ether')))\n\n  const token6 = await dappAppleUSD.token2Balance()\n  dispatch(token6Loaded(ethers.utils.formatUnits(token6.toString(), 'ether')))\n\n\n}\n\n\n\n\nexport const loadBalances1 = async (appleswap, tokens, account, dispatch) => {\n\n  const token3 = await appleswap.token1Balance()\n  dispatch(token3Loaded(ethers.utils.formatUnits(token3.toString(), 'ether')))\n\n  const token4 = await appleswap.token2Balance()\n  dispatch(token4Loaded(ethers.utils.formatUnits(token4.toString(), 'ether')))\n\n}\n\n\n\n\n// ------------------------------------------------------------------------------\n// ADD LIQUDITY\nexport const addLiquidity = async (provider, amm, tokens, amounts, dispatch) => {\n  try {\n    dispatch(depositRequest())\n\n    const signer = await provider.getSigner()\n\n    let transaction\n\n    transaction = await tokens[0].connect(signer).approve(amm.address, amounts[0])\n    await transaction.wait()\n\n    transaction = await tokens[1].connect(signer).approve(amm.address, amounts[1])\n    await transaction.wait()\n\n    transaction = await amm.connect(signer).addLiquidity(amounts[0], amounts[1])\n    await transaction.wait()\n\n    dispatch(depositSuccess(transaction.hash))\n  } catch (error) {\n    dispatch(depositFail())\n  }\n}\n\n// ------------------------------------------------------------------------------\n// REMOVE LIQUDITY\nexport const removeLiquidity = async (provider, amm, shares, dispatch) => {\n  try {\n    dispatch(withdrawRequest())\n\n    const signer = await provider.getSigner()\n\n    let transaction = await amm.connect(signer).removeLiquidity(shares)\n    await transaction.wait()\n\n    dispatch(withdrawSuccess(transaction.hash))\n  } catch (error) {\n    dispatch(withdrawFail())\n  }\n}\n\n// ------------------------------------------------------------------------------\n// SWAP\n\nexport const swap = async (provider, amm, token, symbol, amount, dispatch) => {\n  try {\n\n    dispatch(swapRequest())\n\n    let transaction\n\n    const signer = await provider.getSigner()\n\n    transaction = await token.connect(signer).approve(amm.address, amount)\n    await transaction.wait()\n\n    if (symbol === \"DAPP\") {\n      transaction = await amm.connect(signer).swapToken1(amount)\n    } else {\n      transaction = await amm.connect(signer).swapToken2(amount)\n    }\n\n    await transaction.wait()\n\n    // Tell redux that the swap has finished - MISSION COMPLETE\n\n    dispatch(swapSuccess(transaction.hash))\n\n  } catch (error) {\n    dispatch(swapFail())\n  }\n}\n\n\n// ------------------------------------------------------------------------------\n// LOAD ALL SWAPS\n\nexport const loadAllSwaps = async (provider, amm, dispatch) => {\n  const block = await provider.getBlockNumber()\n\n  const swapStream = await amm.queryFilter('Swap', 0, block)\n  const swaps = swapStream.map(event => {\n    return { hash: event.transactionHash, args: event.args }\n  })\n\n  dispatch(swapsLoaded(swaps))\n}\n\n// ------------------------------------------------------------------------------\n// FETCH AMM BALANCES\n\nexport const fetchBalance1 = async (provider, amm, dispatch) => {\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}